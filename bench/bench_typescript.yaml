lang: typescript
problems:
  - name: helloworld
    source:
      - 1.ts
compiler_version_command: bin/deno --version
compiler_version_regex:
runtime_version_command:
runtime_version_regex:
source_rename_to: c.ts
environments:
  - os: linux
    compiler: deno
    version: latest
    include:
    # include_sub_dir: out
    before_build:
      - sh -c "curl -fsSL https://deno.land/x/install/install.sh | sh"
      - sh -c "cp -a PATH=$HOME/.deno/bin ."
      - ls -al
      - chmod +x bin/deno
    # build: cp /usr/local/bin/node ./out && cp -a $HOME/.deno/bin ./out
    build: bin/deno compile --unstable -o out/_app c.ts
    out_dir: out
    run_cmd: _app
